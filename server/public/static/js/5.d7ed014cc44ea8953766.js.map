{"version":3,"sources":["webpack:///src/views/friendsInfo/friendsInfo.vue","webpack:///./src/views/friendsInfo/friendsInfo.vue?6e3d","webpack:///./src/views/friendsInfo/friendsInfo.vue","webpack:///./src/assets/infoBg.jpg"],"names":["friendsInfo","mixins","data","tel","id","userData","openSimple","isNot","computed","extends_default","Object","vuex_esm","created","this","$route","query","onSearch","methods","_this","d","friends","getFriendsGourp","then","console","log","addFriends","_this2","aTel","status","agreeFriends","_this3","agree","refuseFriends","_this4","deleteFriends","_this5","closeSimpleDialog","openSimpleDialog","watch","updateHyStatus","friendsInfo_friendsInfo","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","color","slot","icon","on","click","$router","goBack","_v","_s","meta","title","margin-top","nickName","sub-title","src","userInfo","sysPath","headImg","alt","__webpack_require__","full-width","large","$event","openWin","path","disabled","bTel","_e","open","update:open","flat","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/5.d7ed014cc44ea8953766.js","sourcesContent":["<template>\r\n  <div class=\"container_c\">\r\n    <mu-appbar style=\"width: 100%;\" color=\"primary\">\r\n      <mu-button icon slot=\"left\" @click=\"$router.goBack\">\r\n        <i class=\"iconfont icon-back\"></i>\r\n      </mu-button>\r\n      {{$route.meta.title}}\r\n    </mu-appbar>\r\n\r\n    <mu-container>\r\n      <mu-card style=\"width: 100%;margin-top:20px;\">\r\n        <mu-card-header :title=\"userData.nickName\" :sub-title=\"userData.tel\">\r\n          <mu-avatar slot=\"avatar\">\r\n            <img :src=\"userInfo.sysPath+userData.headImg\" alt=\"\">\r\n          </mu-avatar>\r\n        </mu-card-header>\r\n        <mu-card-media title=\"\" sub-title=\"她们习惯在你背后指桑骂槐 因为没有当面和你对峙的资本 你是赢家 别怕\">\r\n          <img src=\"@/assets/infoBg.jpg\">\r\n        </mu-card-media>\r\n      </mu-card>\r\n\r\n      <div class=\"btns\" v-if=\"userData.tel!=userInfo.tel\">\r\n        <template v-if=\"userData.status==1\">\r\n          <mu-button full-width large color=\"primary\" @click=\"openWin({path:'/chat/'+userData.tel})\">发送消息</mu-button>\r\n          <mu-button full-width large color=\"error\" @click=\"openSimpleDialog\">删除好友</mu-button>\r\n        </template>\r\n\r\n        <mu-button v-else-if=\"userData.status==2 && userData.aTel==userInfo.tel\" full-width large color=\"success\" disabled>等待对方验证</mu-button>\r\n        <mu-button v-else-if=\"userData.status==2 && userData.bTel==userInfo.tel\" @click=\"agreeFriends\" full-width large color=\"primary\">同意好友请求</mu-button>\r\n        <mu-button v-else @click=\"addFriends\" full-width large color=\"primary\">添加到通讯录</mu-button>\r\n\r\n        <mu-button v-if=\"userData.status==2 && userData.bTel==userInfo.tel\" @click=\"refuseFriends\" full-width large color=\"error\">拒绝好友请求</mu-button>\r\n\r\n      </div>\r\n    </mu-container>\r\n\r\n    <mu-dialog :title=\"'删除'+userData.nickName\" width=\"360\" :open.sync=\"openSimple\">\r\n      确定删除该好友嘛\r\n      <mu-button slot=\"actions\" flat color=\"error\" @click=\"deleteFriends\">删除</mu-button>\r\n      <mu-button slot=\"actions\" flat color=\"primary\" @click=\"closeSimpleDialog\">取消</mu-button>\r\n    </mu-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport friendsApi from \"@/api/friends\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport common from \"@/mixins/common\";\r\nexport default {\r\n  mixins: [common],\r\n  data() {\r\n    return {\r\n      tel: \"\",\r\n      id: \"\",\r\n      userData: {},\r\n      openSimple: false,\r\n      isNot: true //是否有过好友关系\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"userInfo\"]),\r\n    ...mapState([\"updateHyStatus\"])\r\n  },\r\n  created() {\r\n    // 判断是用id还是tel查找\r\n    if (this.$route.query.id) {\r\n      this.id = this.$route.query.id;\r\n      this.onSearch();\r\n    } else {\r\n      this.tel = this.$route.query.tel;\r\n      this.onSearch();\r\n    }\r\n  },\r\n  methods: {\r\n    //   查询用户Id\r\n    onSearch() {\r\n      let d = { id: this.id };\r\n      if (this.tel) {\r\n        d = { tel: this.tel };\r\n      }\r\n      friendsApi.getFriendsGourp(d).then(data => {\r\n        this.userData = data.data;\r\n        console.log(\"是否好友\");\r\n        console.log(this.userData);\r\n      });\r\n    },\r\n    // 添加好友\r\n    addFriends() {\r\n      // 新建好友关系\r\n      if (this.isNot) {\r\n        friendsApi.addFriends(this.userData).then(data => {\r\n          if (this.userData.aTel) {\r\n            this.userData.status = 2;\r\n          } else {\r\n            this.onSearch();\r\n          }\r\n        });\r\n      } else {\r\n        // 申请恢复好友关系\r\n      }\r\n    },\r\n    // 同意对方添加好友\r\n    agreeFriends() {\r\n      friendsApi\r\n        .agree({ id: this.userData.id, tel: this.userData.tel })\r\n        .then(data => {\r\n          this.userData.status = 1;\r\n        });\r\n    },\r\n    // 拒绝添加\r\n    refuseFriends() {\r\n      friendsApi\r\n        .refuseFriends({ id: this.userData.id, tel: this.userData.tel })\r\n        .then(data => {\r\n          this.userData.status = 3;\r\n        });\r\n    },\r\n    // 删除好友\r\n    deleteFriends() {\r\n      friendsApi.deleteFriends(this.userData).then(data => {\r\n        this.userData.status = 0;\r\n        this.closeSimpleDialog();\r\n      });\r\n    },\r\n    openSimpleDialog() {\r\n      this.openSimple = true;\r\n    },\r\n    closeSimpleDialog() {\r\n      this.openSimple = false;\r\n    }\r\n  },\r\n  watch: {\r\n    // 检测到好友关系发生变化更新状态\r\n    updateHyStatus() {\r\n      this.onSearch();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.btns {\r\n  margin-top: 20px;\r\n  button {\r\n    margin-top: 10px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/friendsInfo/friendsInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container_c\"},[_c('mu-appbar',{staticStyle:{\"width\":\"100%\"},attrs:{\"color\":\"primary\"}},[_c('mu-button',{attrs:{\"slot\":\"left\",\"icon\":\"\"},on:{\"click\":_vm.$router.goBack},slot:\"left\"},[_c('i',{staticClass:\"iconfont icon-back\"})]),_vm._v(\"\\n    \"+_vm._s(_vm.$route.meta.title)+\"\\n  \")],1),_vm._v(\" \"),_c('mu-container',[_c('mu-card',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"}},[_c('mu-card-header',{attrs:{\"title\":_vm.userData.nickName,\"sub-title\":_vm.userData.tel}},[_c('mu-avatar',{attrs:{\"slot\":\"avatar\"},slot:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.userInfo.sysPath+_vm.userData.headImg,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('mu-card-media',{attrs:{\"title\":\"\",\"sub-title\":\"她们习惯在你背后指桑骂槐 因为没有当面和你对峙的资本 你是赢家 别怕\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/infoBg.jpg\")}})])],1),_vm._v(\" \"),(_vm.userData.tel!=_vm.userInfo.tel)?_c('div',{staticClass:\"btns\"},[(_vm.userData.status==1)?[_c('mu-button',{attrs:{\"full-width\":\"\",\"large\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openWin({path:'/chat/'+_vm.userData.tel})}}},[_vm._v(\"发送消息\")]),_vm._v(\" \"),_c('mu-button',{attrs:{\"full-width\":\"\",\"large\":\"\",\"color\":\"error\"},on:{\"click\":_vm.openSimpleDialog}},[_vm._v(\"删除好友\")])]:(_vm.userData.status==2 && _vm.userData.aTel==_vm.userInfo.tel)?_c('mu-button',{attrs:{\"full-width\":\"\",\"large\":\"\",\"color\":\"success\",\"disabled\":\"\"}},[_vm._v(\"等待对方验证\")]):(_vm.userData.status==2 && _vm.userData.bTel==_vm.userInfo.tel)?_c('mu-button',{attrs:{\"full-width\":\"\",\"large\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.agreeFriends}},[_vm._v(\"同意好友请求\")]):_c('mu-button',{attrs:{\"full-width\":\"\",\"large\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.addFriends}},[_vm._v(\"添加到通讯录\")]),_vm._v(\" \"),(_vm.userData.status==2 && _vm.userData.bTel==_vm.userInfo.tel)?_c('mu-button',{attrs:{\"full-width\":\"\",\"large\":\"\",\"color\":\"error\"},on:{\"click\":_vm.refuseFriends}},[_vm._v(\"拒绝好友请求\")]):_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('mu-dialog',{attrs:{\"title\":'删除'+_vm.userData.nickName,\"width\":\"360\",\"open\":_vm.openSimple},on:{\"update:open\":function($event){_vm.openSimple=$event}}},[_vm._v(\"\\n    确定删除该好友嘛\\n    \"),_c('mu-button',{attrs:{\"slot\":\"actions\",\"flat\":\"\",\"color\":\"error\"},on:{\"click\":_vm.deleteFriends},slot:\"actions\"},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('mu-button',{attrs:{\"slot\":\"actions\",\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.closeSimpleDialog},slot:\"actions\"},[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-28ccfdca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/friendsInfo/friendsInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28ccfdca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./friendsInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./friendsInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./friendsInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28ccfdca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./friendsInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-28ccfdca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/friendsInfo/friendsInfo.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/infoBg.a646a52.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/infoBg.jpg\n// module id = IbwC\n// module chunks = 5"],"sourceRoot":""}